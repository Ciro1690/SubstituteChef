{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ChefApi from'../api/api';import EditCompany from'./EditCompany';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompaniesProfile=function CompaniesProfile(_ref){var currentUser=_ref.currentUser;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];useEffect(function(){function getCompanies(){return _getCompanies.apply(this,arguments);}function _getCompanies(){_getCompanies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userCompanies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ChefApi.getCompaniesFromUsername(currentUser);case 2:userCompanies=_context.sent;setCompanies(userCompanies.companies);setIsLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getCompanies.apply(this,arguments);}if(isLoading&&currentUser!==null){getCompanies();}},[currentUser,isLoading]);return isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Companies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:companies.map(function(company){return/*#__PURE__*/_jsx(EditCompany,{company:company},company.id);})})]});};export default CompaniesProfile;","map":{"version":3,"sources":["/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/src/components/companies/CompaniesProfile.js"],"names":["React","useState","useEffect","ChefApi","EditCompany","CompaniesProfile","currentUser","companies","setCompanies","isLoading","setIsLoading","getCompanies","getCompaniesFromUsername","userCompanies","map","company","id"],"mappings":"qiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAqB,IAAlBC,CAAAA,WAAkB,MAAlBA,WAAkB,CAC1C,cAAkCL,QAAQ,CAAC,IAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAAkCP,QAAQ,CAAC,IAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAEAR,SAAS,CAAC,UAAM,SACGS,CAAAA,YADH,8IACZ,2KACgCR,CAAAA,OAAO,CAACS,wBAAR,CAAiCN,WAAjC,CADhC,QACUO,aADV,eAEIL,YAAY,CAACK,aAAa,CAACN,SAAf,CAAZ,CACAG,YAAY,CAAC,KAAD,CAAZ,CAHJ,sDADY,+CAMZ,GAAID,SAAS,EAAIH,WAAW,GAAK,IAAjC,CAAuC,CACnCK,YAAY,GACf,CACJ,CATQ,CASN,CAACL,WAAD,CAAcG,SAAd,CATM,CAAT,CAWA,MACIA,CAAAA,SAAS,cAAG,mCAAH,cACT,aAAK,SAAS,CAAC,gBAAf,wBACI,sCADJ,cAEI,YAAK,SAAS,CAAC,KAAf,UACKF,SAAS,CAACO,GAAV,CAAc,SAAAC,OAAO,qBAClB,KAAC,WAAD,EAA8B,OAAO,CAAEA,OAAvC,EAAkBA,OAAO,CAACC,EAA1B,CADkB,EAArB,CADL,EAFJ,GAFJ,CAWH,CA1BD,CA4BA,cAAeX,CAAAA,gBAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ChefApi from '../api/api';\nimport EditCompany from './EditCompany';\n\nconst CompaniesProfile = ({ currentUser }) => {\n    const [companies, setCompanies] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    \n    useEffect(() => {\n        async function getCompanies() { \n            const userCompanies = await ChefApi.getCompaniesFromUsername(currentUser);\n            setCompanies(userCompanies.companies);\n            setIsLoading(false); \n        }\n        if (isLoading && currentUser !== null) {\n            getCompanies()\n        }\n    }, [currentUser, isLoading])\n    \n    return (\n        isLoading ? <div>Loading...</div> :\n        <div className=\"container mt-3\">\n            <h1>Edit Companies</h1>\n            <div className=\"row\">\n                {companies.map(company => (\n                    <EditCompany key={company.id} company={company}/>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default CompaniesProfile;"]},"metadata":{},"sourceType":"module"}