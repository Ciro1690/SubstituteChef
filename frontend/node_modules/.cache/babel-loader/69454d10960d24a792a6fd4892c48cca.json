{"ast":null,"code":"import _defineProperty from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router';import{TextField,Button}from'@material-ui/core';import\"../../styles/Register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserSignup=function UserSignup(_ref){var registerUser=_ref.registerUser;var INITIAL_DATA={username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"};var _useState=useState(INITIAL_DATA),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var registerData,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();registerData={\"username\":formData.username,\"password\":formData.password,\"firstName\":formData.firstName,\"lastName\":formData.lastName,\"email\":formData.email};_context.next=4;return registerUser(registerData);case 4:result=_context.sent;setFormData(INITIAL_DATA);if(result.success){alert(\"Created account for Substitute Chef\");history.push(\"/\");}else{setErrors(result.errors);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.type==='checkbox'?e.target.checked:e.target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-div\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Substitute Chef!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{required:true,label:\"Username\",type:\"text\",name:\"username\",onChange:handleChange,value:formData.username}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Password\",type:\"password\",name:\"password\",onChange:handleChange,value:formData.password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"First Name\",type:\"text\",name:\"firstName\",onChange:handleChange,value:formData.firstName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Last Name\",type:\"text\",name:\"lastName\",onChange:handleChange,value:formData.lastName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Email\",type:\"email\",name:\"email\",onChange:handleChange,value:formData.email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{children:errors.length?/*#__PURE__*/_jsx(\"p\",{children:errors}):null})]})]});};export default UserSignup;","map":{"version":3,"sources":["/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/src/components/auth/UserSignup.js"],"names":["React","useState","useHistory","TextField","Button","UserSignup","registerUser","INITIAL_DATA","username","password","firstName","lastName","email","formData","setFormData","errors","setErrors","history","handleSubmit","e","preventDefault","registerData","result","success","alert","push","handleChange","name","target","value","type","checked","data","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport {\n    TextField,\n    Button\n} from '@material-ui/core'; \nimport \"../../styles/Register.css\"\n\nconst UserSignup = ({ registerUser }) => {\n    const INITIAL_DATA = {\n        username: \"\",\n        password: \"\", \n        firstName: \"\", \n        lastName: \"\", \n        email: \"\"\n    };\n\n    const [formData, setFormData] = useState(INITIAL_DATA);\n    const [errors, setErrors] = useState([]);\n    let history = useHistory();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const registerData = {\n            \"username\": formData.username,\n            \"password\":formData.password,\n            \"firstName\": formData.firstName,\n            \"lastName\": formData.lastName,\n            \"email\": formData.email\n        };\n        const result = await registerUser(registerData)\n        \n        setFormData(INITIAL_DATA);\n        \n        if (result.success) {\n            alert(\"Created account for Substitute Chef\")\n            history.push(\"/\");\n        } else {\n            setErrors(result.errors);\n        }\n    }\n\n    const handleChange = e => {\n        const name = e.target.name;\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\n        setFormData(data => ({\n            ...data,\n            [name]: value\n        }))\n    }\n\n    return (\n        <div className=\"register-div\">\n            <h1>Welcome to Substitute Chef!</h1>\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    required\n                    label=\"Username\"\n                    type=\"text\"\n                    name=\"username\"\n                    onChange={handleChange}\n                    value={formData.username}/>\n                    <br></br>\n                <TextField\n                    required\n                    label=\"Password\"\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={formData.password}/>\n                <br></br>\n                <TextField\n                    required\n                    label=\"First Name\"\n                    type=\"text\"\n                    name=\"firstName\"\n                    onChange={handleChange}\n                    value={formData.firstName}/>\n                    <br></br>\n                <TextField\n                    required\n                    label=\"Last Name\"\n                    type=\"text\"\n                    name=\"lastName\"\n                    onChange={handleChange}\n                    value={formData.lastName}/>\n                    <br></br>\n                <TextField\n                    required\n                    label=\"Email\"\n                    type=\"email\"\n                    name=\"email\"\n                    onChange={handleChange}\n                    value={formData.email}/>\n                    <br></br><br></br>\n                <Button \n                    type=\"submit\"\n                    variant=\"contained\" \n                    color=\"primary\">Sign Up</Button>\n                <div>\n                    {errors.length ?\n                        <p>{errors}</p>\n                    : null }\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default UserSignup;"]},"metadata":{},"sourceType":"module"}