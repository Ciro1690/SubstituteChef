{"ast":null,"code":"import _defineProperty from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router';import{TextField,Button}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var LogIn=_ref.LogIn;var INITIAL_DATA={username:\"\",password:\"\"};var _useState=useState(INITIAL_DATA),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var LoginData,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();LoginData={\"username\":formData.username,\"password\":formData.password};_context.next=4;return LogIn(LoginData);case 4:result=_context.sent;setFormData(INITIAL_DATA);if(result.success){history.push(\"/\");}else{setErrors(result.errors);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome back!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{required:true,label:\"Username\",type:\"text\",name:\"username\",onChange:handleChange,value:formData.username}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Password\",type:\"password\",name:\"password\",onChange:handleChange,value:formData.password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),errors.length?/*#__PURE__*/_jsx(\"p\",{children:errors}):null,/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Login\"})]})]});};export default Login;","map":{"version":3,"sources":["/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/src/components/auth/Login.js"],"names":["React","useState","useHistory","TextField","Button","Login","LogIn","INITIAL_DATA","username","password","formData","setFormData","errors","setErrors","history","handleSubmit","e","preventDefault","LoginData","result","success","push","handleChange","target","name","value","data","length"],"mappings":"s5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OACIC,SADJ,CAEIC,MAFJ,KAGO,mBAHP,C,wFAKA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CACvB,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAE,EADO,CAEjBC,QAAQ,CAAE,EAFO,CAArB,CAKA,cAAgCR,QAAQ,CAACM,YAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAA4BV,QAAQ,CAAC,EAAD,CAApC,yCAAOW,MAAP,eAAeC,SAAf,eACA,GAAIC,CAAAA,OAAO,CAAGZ,UAAU,EAAxB,CAEA,GAAMa,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,uIACjBA,CAAC,CAACC,cAAF,GACMC,SAFW,CAEC,CACd,WAAYR,QAAQ,CAACF,QADP,CAEd,WAAWE,QAAQ,CAACD,QAFN,CAFD,uBAMIH,CAAAA,KAAK,CAACY,SAAD,CANT,QAMXC,MANW,eAOjBR,WAAW,CAACJ,YAAD,CAAX,CAEA,GAAIY,MAAM,CAACC,OAAX,CAAoB,CAChBN,OAAO,CAACO,IAAR,CAAa,GAAb,EACH,CAFD,IAEO,CACHR,SAAS,CAACM,MAAM,CAACP,MAAR,CAAT,CACH,CAbgB,sDAAH,kBAAZG,CAAAA,YAAY,6CAAlB,CAgBA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAN,CAAC,CAAI,CACtB,cAAsBA,CAAC,CAACO,MAAxB,CAAOC,IAAP,WAAOA,IAAP,CAAaC,KAAb,WAAaA,KAAb,CACAd,WAAW,CAAC,SAAAe,IAAI,wCACTA,IADS,wBAEXF,IAFW,CAEJC,KAFI,IAAL,CAAX,CAIH,CAND,CAQA,mBACI,oCACI,qCADJ,cAEI,cAAM,QAAQ,CAAEV,YAAhB,wBACI,KAAC,SAAD,EACI,QAAQ,KADZ,CAEI,KAAK,CAAC,UAFV,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,CAAEO,YALd,CAMI,KAAK,CAAEZ,QAAQ,CAACF,QANpB,EADJ,cAQQ,aARR,cASI,KAAC,SAAD,EACI,QAAQ,KADZ,CAEI,KAAK,CAAC,UAFV,CAGI,IAAI,CAAC,UAHT,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,CAAEc,YALd,CAMI,KAAK,CAAEZ,QAAQ,CAACD,QANpB,EATJ,cAgBQ,aAhBR,cAgBiB,aAhBjB,CAiBKG,MAAM,CAACe,MAAP,cACG,mBAAIf,MAAJ,EADH,CAEC,IAnBN,cAoBI,KAAC,MAAD,EACI,IAAI,CAAC,QADT,CAEI,OAAO,CAAC,WAFZ,CAGI,KAAK,CAAC,SAHV,mBApBJ,GAFJ,GADJ,CA8BH,CAhED,CAkEA,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport {\n    TextField,\n    Button\n} from '@material-ui/core'; \n\nconst Login = ({LogIn}) => {\n    const INITIAL_DATA = {\n        username: \"\",\n        password: \"\", \n    };\n\n    const [formData, setFormData] = useState(INITIAL_DATA);\n    const [errors, setErrors] = useState([]);\n    let history = useHistory();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const LoginData = {\n            \"username\": formData.username,\n            \"password\":formData.password           \n        };\n        const result = await LogIn(LoginData)\n        setFormData(INITIAL_DATA);\n        \n        if (result.success) {\n            history.push(\"/\");\n        } else {\n            setErrors(result.errors);\n        }\n    }\n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        setFormData(data => ({\n            ...data,\n            [name]: value\n        }))\n    }\n\n    return (\n        <div>\n            <h1>Welcome back!</h1>\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    required\n                    label=\"Username\"\n                    type=\"text\"\n                    name=\"username\"\n                    onChange={handleChange}\n                    value={formData.username}/>\n                    <br></br>\n                <TextField\n                    required\n                    label=\"Password\"\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={formData.password}/>\n                    <br></br><br></br>\n                {errors.length ?\n                    <p>{errors}</p>\n                : null }\n                <Button \n                    type=\"submit\"\n                    variant=\"contained\" \n                    color=\"primary\">Login</Button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}