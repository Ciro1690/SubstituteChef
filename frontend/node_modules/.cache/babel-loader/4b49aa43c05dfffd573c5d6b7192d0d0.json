{"ast":null,"code":"import _defineProperty from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{registerCompany}from'../utilities/utility';import{useHistory}from'react-router';import{TextField,Button}from'@material-ui/core';import\"../../styles/Register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompanySignup=function CompanySignup(_ref){var currentUser=_ref.currentUser;var INITIAL_DATA={name:\"\",url:\"\",address:\"\"};var _useState=useState(INITIAL_DATA),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var registerData,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();registerData={\"name\":formData.name,\"url\":formData.url,\"address\":formData.address,\"username\":currentUser};_context.next=4;return registerCompany(registerData);case 4:result=_context.sent;setFormData(INITIAL_DATA);if(result.success){alert(\"Added new company\");history.push(\"/\");}else{setErrors(result.errors);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register Company\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{required:true,label:\"Company name\",type:\"text\",name:\"name\",onChange:handleChange,value:formData.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"URL\",type:\"text\",name:\"url\",onChange:handleChange,value:formData.url}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Address\",type:\"text\",name:\"address\",onChange:handleChange,value:formData.address}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"secondary\",children:\"Create Company\"}),/*#__PURE__*/_jsx(\"div\",{children:errors.length?/*#__PURE__*/_jsx(\"p\",{children:errors}):null})]})]});};export default CompanySignup;","map":{"version":3,"sources":["/Users/cheers/Desktop/Coding/Springboard/substitute-chef/frontend/src/components/companies/CompanySignup.js"],"names":["React","useState","registerCompany","useHistory","TextField","Button","CompanySignup","currentUser","INITIAL_DATA","name","url","address","formData","setFormData","errors","setErrors","history","handleSubmit","e","preventDefault","registerData","result","success","alert","push","handleChange","target","value","data","length"],"mappings":"s5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OACIC,SADJ,CAEIC,MAFJ,KAGO,mBAHP,CAIA,MAAO,2BAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAqB,IAAlBC,CAAAA,WAAkB,MAAlBA,WAAkB,CACvC,GAAMC,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAE,EADW,CAEjBC,GAAG,CAAE,EAFY,CAGjBC,OAAO,CAAE,EAHQ,CAArB,CAMA,cAAgCV,QAAQ,CAACO,YAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAA4BZ,QAAQ,CAAC,EAAD,CAApC,yCAAOa,MAAP,eAAeC,SAAf,eACA,GAAIC,CAAAA,OAAO,CAAGb,UAAU,EAAxB,CAEA,GAAMc,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,0IACjBA,CAAC,CAACC,cAAF,GACMC,YAFW,CAEI,CACjB,OAAQR,QAAQ,CAACH,IADA,CAEjB,MAAMG,QAAQ,CAACF,GAFE,CAGjB,UAAWE,QAAQ,CAACD,OAHH,CAIjB,WAAYJ,WAJK,CAFJ,uBAQIL,CAAAA,eAAe,CAACkB,YAAD,CARnB,QAQXC,MARW,eASjBR,WAAW,CAACL,YAAD,CAAX,CAEA,GAAIa,MAAM,CAACC,OAAX,CAAoB,CAChBC,KAAK,CAAC,mBAAD,CAAL,CACAP,OAAO,CAACQ,IAAR,CAAa,GAAb,EACH,CAHD,IAGO,CACHT,SAAS,CAACM,MAAM,CAACP,MAAR,CAAT,CACH,CAhBgB,sDAAH,kBAAZG,CAAAA,YAAY,6CAAlB,CAmBA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAP,CAAC,CAAI,CACtB,cAAsBA,CAAC,CAACQ,MAAxB,CAAOjB,IAAP,WAAOA,IAAP,CAAakB,KAAb,WAAaA,KAAb,CACAd,WAAW,CAAC,SAAAe,IAAI,wCACTA,IADS,wBAEXnB,IAFW,CAEJkB,KAFI,IAAL,CAAX,CAIH,CAND,CAQA,mBACI,oCACI,wCADJ,cAEI,cAAM,QAAQ,CAAEV,YAAhB,wBACI,KAAC,SAAD,EACI,QAAQ,KADZ,CAEI,KAAK,CAAC,cAFV,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,MAJT,CAKI,QAAQ,CAAEQ,YALd,CAMI,KAAK,CAAEb,QAAQ,CAACH,IANpB,EADJ,cAQI,aARJ,cASI,KAAC,SAAD,EACI,QAAQ,KADZ,CAEI,KAAK,CAAC,KAFV,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,KAJT,CAKI,QAAQ,CAAEgB,YALd,CAMI,KAAK,CAAEb,QAAQ,CAACF,GANpB,EATJ,cAgBI,aAhBJ,cAiBI,KAAC,SAAD,EACI,QAAQ,KADZ,CAEI,KAAK,CAAC,SAFV,CAGI,IAAI,CAAC,MAHT,CAII,IAAI,CAAC,SAJT,CAKI,QAAQ,CAAEe,YALd,CAMI,KAAK,CAAEb,QAAQ,CAACD,OANpB,EAjBJ,cAwBI,aAxBJ,cAyBI,aAzBJ,cA0BI,KAAC,MAAD,EACI,IAAI,CAAC,QADT,CAEI,OAAO,CAAC,WAFZ,CAGI,KAAK,CAAC,WAHV,4BA1BJ,cA8BI,qBACKG,MAAM,CAACe,MAAP,cACG,mBAAIf,MAAJ,EADH,CAEC,IAHN,EA9BJ,GAFJ,GADJ,CAyCH,CA/ED,CAiFA,cAAeR,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport { registerCompany } from '../utilities/utility';\nimport { useHistory } from 'react-router';\nimport {\n    TextField,\n    Button\n} from '@material-ui/core'; \nimport \"../../styles/Register.css\"\n\nconst CompanySignup = ({ currentUser }) => {\n    const INITIAL_DATA = {\n        name: \"\",\n        url: \"\", \n        address: \"\"\n    };\n\n    const [formData, setFormData] = useState(INITIAL_DATA);\n    const [errors, setErrors] = useState({});\n    let history = useHistory();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const registerData = {\n            \"name\": formData.name,\n            \"url\":formData.url,\n            \"address\": formData.address,\n            \"username\": currentUser           \n        };\n        const result = await registerCompany(registerData)\n        setFormData(INITIAL_DATA);\n        \n        if (result.success) {\n            alert(\"Added new company\")\n            history.push(\"/\");\n        } else {\n            setErrors(result.errors);\n        }\n    }\n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        setFormData(data => ({\n            ...data,\n            [name]: value\n        }))\n    }\n\n    return (\n        <div>\n            <h1>Register Company</h1>\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    required\n                    label=\"Company name\"\n                    type=\"text\"\n                    name=\"name\"\n                    onChange={handleChange}\n                    value={formData.name}/>\n                <br></br>\n                <TextField\n                    required\n                    label=\"URL\"\n                    type=\"text\"\n                    name=\"url\"\n                    onChange={handleChange}\n                    value={formData.url}/>\n                <br></br>\n                <TextField\n                    required\n                    label=\"Address\"\n                    type=\"text\"\n                    name=\"address\"\n                    onChange={handleChange}\n                    value={formData.address}/>\n                <br></br>\n                <br></br>\n                <Button \n                    type=\"submit\"\n                    variant=\"contained\" \n                    color=\"secondary\">Create Company</Button>\n                <div>\n                    {errors.length ?\n                        <p>{errors}</p>\n                    : null }\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default CompanySignup;"]},"metadata":{},"sourceType":"module"}